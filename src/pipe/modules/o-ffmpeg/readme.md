# o-ffmpeg: video output via ffmpeg

this is a `cli` output module, don't use it in the gui! the gui may perform
frame drops, especially when the outputs need to be written out and are encoded
as we go.

an example command line would be
```
 vkdt-cli -g /path/to/mlv-sidecar.cfg --format o-ffmpeg --audio audio.raw
```
note that the sidecar here can be the one you've been using in the gui,
i.e. the autogenerated one if you point `vkdt` to the folder or file
will work. the `cli` will append the necessary processing chain to the graph.

we use plain `popen()` style communication with the ffmpeg binary (you'll need
to have it installed in your `PATH` for this to work).

this module only writes the h264 stream, the audio channels will need to be
combined manually, maybe like
```
 ffmpeg -i output.h264 -f s16le -sample_rate 48000 -channels 2 -i audio.raw -c:v copy combined.mp4
```

## connectors

* `input` the sink to read the raw pixel data

## parameters

* `filename` the output filename to write the h264 stream to.
